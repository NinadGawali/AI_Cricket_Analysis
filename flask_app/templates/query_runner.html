{% extends "base.html" %}

{% block content %}
<div class="query-runner-container">
    <h2>ğŸ” Query Runner</h2>
    <p>Build and execute custom SQL queries to explore the cricket data.</p>

    <div class="query-builder">
        <div class="form-group">
            <label>Select Table:</label>
            <select id="table-select" onchange="loadColumns()">
                <option value="">-- Select Table --</option>
            </select>
        </div>

        <div class="form-group">
            <label>Select Columns:</label>
            <div id="columns-container" class="checkbox-grid">
                <!-- Checkboxes will appear here -->
            </div>
        </div>

        <div class="form-group">
            <label>Filters (Optional):</label>
            <div id="filters-container">
                <!-- Dynamic filters -->
            </div>
            <button class="btn btn-small" onclick="addFilter()">+ Add Filter</button>
        </div>

        <button class="btn btn-primary" onclick="executeQuery()">Run Query ğŸš€</button>
    </div>

    <div id="query-results" class="results-container">
        <!-- Results table will appear here -->
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Query Runner page loaded, loading tables...');
        loadTables();
    });
</script>
{% endblock %}